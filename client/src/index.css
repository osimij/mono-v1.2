@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-sans: "Inter", "Inter var", system-ui, -apple-system, "Segoe UI", sans-serif;
  --font-display: "Cal Sans", "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", ui-monospace, SFMono-Regular, Menlo, monospace;

  --ds-surface: 0 0% 100%;
  --ds-surface-muted: 210 16% 96%;
  --ds-surface-subtle: 214 14% 92%;
  --ds-surface-elevated: 210 18% 98%;
  --ds-surface-inverted: 222 47% 11%;

  --ds-border-subtle: 210 8% 18%;     /* #2B2E31 */
  --ds-border-strong: 210 8% 18%;     /* #2B2E31 */

  --ds-text-primary: 222 47% 11%;
  --ds-text-soft: 218 15% 38%;
  --ds-text-muted: 218 12% 47%;
  --ds-text-subtle: 216 12% 61%;
  --ds-text-inverted: 210 20% 96%;

  --ds-primary: 82 91% 55%;
  --ds-primary-strong: 82 91% 44%;
  --ds-primary-muted: 82 89% 92%;
  --ds-primary-foreground: 222 47% 11%;

  --ds-secondary: 82 89% 70%;
  --ds-secondary-muted: 82 89% 92%;
  --ds-secondary-foreground: 222 47% 11%;

  --ds-accent: 82 91% 55%;
  --ds-accent-muted: 82 89% 92%;
  --ds-accent-foreground: 222 47% 11%;

  --ds-success: 152 63% 45%;
  --ds-success-muted: 152 63% 92%;
  --ds-success-foreground: 144 61% 20%;

  --ds-warning: 38 92% 58%;
  --ds-warning-muted: 38 92% 92%;
  --ds-warning-foreground: 32 95% 20%;

  --ds-danger: 0 84% 60%;
  --ds-danger-muted: 0 84% 94%;
  --ds-danger-foreground: 350 90% 22%;

  --ds-info: 207 82% 55%;
  --ds-info-muted: 207 82% 90%;
  --ds-info-foreground: 210 90% 20%;

  --ds-focus: 82 91% 55%;
  --ds-ring: 0 0% 100% / 0.05;

  --shadow-xs: 0 1px 1px rgba(15, 23, 42, 0.05);
  --shadow-sm: 0 1px 2px rgba(15, 23, 42, 0.07);
  --shadow-md: 0 6px 16px rgba(15, 23, 42, 0.08);
  --shadow-lg: 0 12px 32px rgba(15, 23, 42, 0.12);
  --shadow-xl: 0 24px 48px rgba(15, 23, 42, 0.18);

  --radius-xs: 0.25rem;
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;
  --radius-2xl: 1.75rem;

  --sidebar-width: 16rem;

  --background: hsl(var(--ds-surface));
  --foreground: hsl(var(--ds-text-primary));
  --muted: hsl(var(--ds-surface-muted));
  --muted-foreground: hsl(var(--ds-text-muted));
  --popover: hsl(var(--ds-surface-elevated));
  --popover-foreground: hsl(var(--ds-text-primary));
  --card: hsl(var(--ds-surface-elevated));
  --card-foreground: hsl(var(--ds-text-primary));
  --border: hsl(var(--ds-border-subtle));
  --border-strong: hsl(var(--ds-border-strong));
  --input: hsl(var(--ds-border-subtle));
  --primary: hsl(var(--ds-primary));
  --primary-foreground: hsl(var(--ds-primary-foreground));
  --secondary: hsl(var(--ds-secondary-muted));
  --secondary-foreground: hsl(var(--ds-secondary-foreground));
  --accent: hsl(var(--ds-accent-muted));
  --accent-foreground: hsl(var(--ds-accent-foreground));
  --destructive: hsl(var(--ds-danger));
  --destructive-foreground: hsl(var(--ds-danger-foreground));
  --ring: hsl(var(--ds-ring));
  --radius: var(--radius-md);

  --surface: hsl(var(--ds-surface));
  --surface-muted: hsl(var(--ds-surface-muted));
  --surface-subtle: hsl(var(--ds-surface-subtle));
  --surface-elevated: hsl(var(--ds-surface-elevated));
  --surface-inverted: hsl(var(--ds-surface-inverted));

  --text-primary: hsl(var(--ds-text-primary));
  --text-soft: hsl(var(--ds-text-soft));
  --text-muted: hsl(var(--ds-text-muted));
  --text-subtle: hsl(var(--ds-text-subtle));
  --text-inverted: hsl(var(--ds-text-inverted));

  --success: hsl(var(--ds-success));
  --success-muted: hsl(var(--ds-success-muted));
  --success-foreground: hsl(var(--ds-success-foreground));
  --warning: hsl(var(--ds-warning));
  --warning-muted: hsl(var(--ds-warning-muted));
  --warning-foreground: hsl(var(--ds-warning-foreground));
  --danger: hsl(var(--ds-danger));
  --danger-muted: hsl(var(--ds-danger-muted));
  --danger-foreground: hsl(var(--ds-danger-foreground));
  --info: hsl(var(--ds-info));
  --info-muted: hsl(var(--ds-info-muted));
  --info-foreground: hsl(var(--ds-info-foreground));

  --chart-1: hsl(var(--ds-primary));
  --chart-2: hsl(var(--ds-success));
  --chart-3: hsl(var(--ds-secondary));
  --chart-4: hsl(var(--ds-warning));
  --chart-5: hsl(var(--ds-accent));

  --sidebar-background: hsl(var(--ds-surface));
  --sidebar-foreground: hsl(var(--ds-text-muted));
  --sidebar-primary: hsl(var(--ds-primary));
  --sidebar-primary-foreground: hsl(var(--ds-text-inverted));
  --sidebar-accent: hsl(var(--ds-surface-muted));
  --sidebar-accent-foreground: hsl(var(--ds-text-primary));
  --sidebar-border: hsl(var(--ds-border-subtle));
  --sidebar-ring: hsl(var(--ds-ring));

  /* Button specific colors */
  --button-background: hsl(var(--ds-surface-muted));
  --button-hover: hsl(var(--ds-surface-subtle));
  --button-selected: hsl(var(--ds-surface-elevated));
}

.dark {
  --ds-surface: 0 0% 9%;           /* #171717 */
  --ds-surface-muted: 0 0% 9%;     /* #171717 */
  --ds-surface-subtle: 0 0% 9%;    /* #171717 */
  --ds-surface-elevated: 0 0% 9%;  /* #171717 */
  --ds-surface-inverted: 0 0% 0%;  /* pure black */

  --ds-border-subtle: 210 8% 18%;     /* #2B2E31 */
  --ds-border-strong: 210 8% 18%;     /* #2B2E31 */

  --ds-text-primary: 0 0% 100%;     /* white */
  --ds-text-soft: 0 0% 90%;         /* light gray */
  --ds-text-muted: 0 0% 70%;        /* medium gray */
  --ds-text-subtle: 0 0% 50%;       /* darker gray */
  --ds-text-inverted: 0 0% 0%;      /* black */

  --ds-primary: 82 89% 70%;
  --ds-primary-strong: 82 91% 55%;
  --ds-primary-muted: 82 91% 25%;
  --ds-primary-foreground: 222 47% 11%;

  --ds-secondary: 82 91% 55%;
  --ds-secondary-muted: 82 91% 30%;
  --ds-secondary-foreground: 222 47% 11%;

  --ds-accent: 82 89% 70%;
  --ds-accent-muted: 82 91% 30%;
  --ds-accent-foreground: 222 47% 11%;

  --ds-success: 152 63% 55%;
  --ds-success-muted: 152 63% 32%;
  --ds-success-foreground: 210 20% 96%;

  --ds-warning: 38 92% 66%;
  --ds-warning-muted: 38 92% 36%;
  --ds-warning-foreground: 222 47% 11%;

  --ds-danger: 0 84% 65%;
  --ds-danger-muted: 0 84% 36%;
  --ds-danger-foreground: 210 20% 96%;

  --ds-info: 207 82% 65%;
  --ds-info-muted: 207 82% 36%;
  --ds-info-foreground: 210 20% 96%;

  --ds-focus: 82 89% 70%;
  --ds-ring: 0 0% 100% / 0.05;

  --background: hsl(var(--ds-surface));
  --foreground: hsl(var(--ds-text-primary));
  --muted: hsl(var(--ds-surface-muted));
  --muted-foreground: hsl(var(--ds-text-muted));
  --popover: hsl(var(--ds-surface-elevated));
  --popover-foreground: hsl(var(--ds-text-primary));
  --card: hsl(var(--ds-surface-elevated));
  --card-foreground: hsl(var(--ds-text-primary));
  --border: hsl(var(--ds-border-subtle));
  --input: hsl(var(--ds-border-subtle));
  --primary: hsl(var(--ds-primary));
  --primary-foreground: hsl(var(--ds-primary-foreground));
  --secondary: hsl(var(--ds-secondary-muted));
  --secondary-foreground: hsl(var(--ds-secondary-foreground));
  --accent: hsl(var(--ds-accent-muted));
  --accent-foreground: hsl(var(--ds-accent-foreground));
  --destructive: hsl(var(--ds-danger));
  --destructive-foreground: hsl(var(--ds-danger-foreground));
  --ring: hsl(var(--ds-ring));

  --sidebar-background: hsl(0 0% 0%);      /* pure black #000000 */
  --sidebar-foreground: hsl(0 0% 100%);    /* pure white #ffffff */
  --sidebar-primary: hsl(var(--ds-primary));
  --sidebar-primary-foreground: hsl(0 0% 100%); /* pure white #ffffff */
  --sidebar-accent: hsl(0 0% 11%);         /* #1d1d1f for selected/hover */
  --sidebar-accent-foreground: hsl(0 0% 100%); /* pure white #ffffff */
  --sidebar-border: hsl(var(--ds-border-subtle));
  --sidebar-ring: hsl(var(--ds-ring));

  /* Button specific colors */
  --button-background: hsl(0 0% 15%);      /* #262626 */
  --button-hover: hsl(0 0% 0%);            /* pure black */
  --button-selected: hsl(0 0% 0%);          /* pure black */
}

@layer base {
  :root {
    color-scheme: light;
  }

  .dark {
    color-scheme: dark;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display font-semibold tracking-tight text-foreground;
  }

  p {
    @apply text-text-soft;
  }

  ::selection {
    color: hsl(222 47% 11%);
    background: hsl(var(--ds-primary) / 0.7);
  }
}

@layer components {
  .gradient-primary {
    background: linear-gradient(
      135deg,
      hsl(var(--ds-primary)),
      hsl(var(--ds-primary-strong))
    );
  }

  .gradient-primary-dark {
    background: linear-gradient(
      135deg,
      hsl(var(--ds-primary-strong)),
      hsl(var(--ds-primary))
    );
  }

  .surface-card {
    background: var(--surface-elevated);
    color: var(--text-primary);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
  }

  .surface-muted {
    background: var(--surface-muted);
    color: var(--text-soft);
  }

  .surface-inverted {
    background: var(--surface-inverted);
    color: var(--text-inverted);
  }

  .ds-divider {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--ds-border-subtle)),
      transparent
    );
  }

  @media (min-width: 1024px) {
    .lg-ml-sidebar {
      margin-left: var(--sidebar-width, 16rem);
    }

    .lg-left-sidebar {
      left: var(--sidebar-width, 16rem);
    }
  }
}

@layer utilities {
  .shadow-soft {
    box-shadow: var(--shadow-sm);
  }

  .shadow-elevated {
    box-shadow: var(--shadow-md);
  }

  .shadow-floating {
    box-shadow: var(--shadow-lg);
  }

  .text-soft {
    color: var(--text-soft);
  }

  .text-muted-strong {
    color: var(--text-muted);
  }

  .text-subtle {
    color: var(--text-subtle);
  }

  .bg-surface {
    background: var(--surface);
  }

  .bg-surface-muted {
    background: var(--surface-muted);
  }

  .bg-surface-elevated {
    background: var(--surface-elevated);
  }

  .bg-surface-inverted {
    background: var(--surface-inverted);
  }

  .bg-button {
    background: var(--button-background);
  }

  .bg-button-hover:hover {
    background: var(--button-hover);
  }

  .bg-button-selected {
    background: var(--button-selected);
  }

  /* Ensure sidebar is pure black in dark mode */
  .dark .bg-sidebar-background {
    background-color: #000000 !important;
  }

  /* Ensure sidebar hover/selected states use #1d1d1f */
  .dark .bg-sidebar-accent {
    background-color: #1d1d1f !important;
  }

  .dark .hover\:bg-sidebar-accent\/50:hover {
    background-color: #1d1d1f !important;
    opacity: 0.5 !important;
  }

  /* Ensure sidebar text and icons are pure white in dark mode */
  .dark .text-sidebar-foreground {
    color: #ffffff !important;
  }

  .dark .text-sidebar-foreground\/60 {
    color: #ffffff !important;
    opacity: 0.6 !important;
  }

  .dark .text-sidebar-foreground\/80 {
    color: #ffffff !important;
    opacity: 0.8 !important;
  }

  /* Ensure all sidebar icons are white in dark mode */
  .dark .dark\\:invert {
    filter: invert(1) !important;
  }

  .dark .dark\\:brightness-0 {
    filter: brightness(0) !important;
  }

  .dark .dark\\:contrast-200 {
    filter: contrast(2) !important;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}
